"use strict";var BpmnJsDiffer=(()=>{var E=Object.defineProperty;var Re=Object.getOwnPropertyDescriptor;var ve=Object.getOwnPropertyNames;var Fe=Object.prototype.hasOwnProperty;var Ae=(t,e)=>{for(var i in e)E(t,i,{get:e[i],enumerable:!0})},Ce=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ve(e))!Fe.call(t,n)&&n!==i&&E(t,n,{get:()=>e[n],enumerable:!(r=Re(e,n))||r.enumerable});return t};var je=t=>Ce(E({},"__esModule",{value:!0}),t);var ze={};Ae(ze,{default:()=>Ue});var Ie=Object.prototype.toString,Ne=Object.prototype.hasOwnProperty;function $e(t){return t===void 0}function Oe(t){return t==null}function g(t){return Ie.call(t)==="[object Array]"}function Te(t,e){return!Oe(t)&&Ne.call(t,e)}function C(t,e){let i,r;if($e(t))return;let n=g(t)?Ee:Pe;for(let l in t)if(Te(t,l)&&(i=t[l],r=e(i,n(l)),r===!1))return i}function z(t,e,i){return C(t,function(r,n){i=e(i,r,n)}),i}function Pe(t){return t}function Ee(t){return Number(t)}var B=class{constructor(e){this.selfOptions=e||{},this.pipes={}}options(e){return e&&(this.selfOptions=e),this.selfOptions}pipe(e,i){let r=i;if(typeof e=="string"){if(typeof r>"u")return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}process(e,i){let r=e;r.options=this.options();let n=i||e.pipe||"default",l,s;for(;n;)typeof r.nextAfterChildren<"u"&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),typeof n=="string"&&(n=this.pipe(n)),n.process(r),s=r,l=n,n=null,r&&r.next&&(r=r.next,n=s.nextPipe||r.pipe||l);return r.hasResult?r.result:void 0}},m=class{constructor(e){this.name=e,this.filters=[]}process(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");let i=this.debug,r=this.filters.length,n=e;for(let l=0;l<r;l++){let s=this.filters[l];if(i&&this.log(`filter: ${s.filterName}`),s(n),typeof n=="object"&&n.exiting){n.exiting=!1;break}}!n.next&&this.resultCheck&&this.resultCheck(n)}log(e){console.log(`[diffpatch] ${this.name} pipe, ${e}`)}append(...e){return this.filters.push(...e),this}prepend(...e){return this.filters.unshift(...e),this}indexOf(e){if(!e)throw new Error("a filter name is required");for(let i=0;i<this.filters.length;i++)if(this.filters[i].filterName===e)return i;throw new Error(`filter not found: ${e}`)}list(){return this.filters.map(e=>e.filterName)}after(e){let i=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(i+1,0),Array.prototype.splice.apply(this.filters,r),this}before(e){let i=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(i,0),Array.prototype.splice.apply(this.filters,r),this}replace(e){let i=this.indexOf(e),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(i,1),Array.prototype.splice.apply(this.filters,r),this}remove(e){let i=this.indexOf(e);return this.filters.splice(i,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(e){if(e===!1){this.resultCheck=null;return}if(this.resultCheck)return;let i=this;return this.resultCheck=r=>{if(!r.hasResult){console.log(r);let n=new Error(`${i.name} failed`);throw n.noResult=!0,n}},this}},b=class{setResult(e){return this.result=e,this.hasResult=!0,this}exit(){return this.exiting=!0,this}switchTo(e,i){return typeof e=="string"||e instanceof m?this.nextPipe=e:(this.next=e,i&&(this.nextPipe=i)),this}push(e,i){return e.parent=this,typeof i<"u"&&(e.childName=i),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}},De=typeof Array.isArray=="function"?Array.isArray:t=>t instanceof Array;function Me(t){let e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}function N(t){if(typeof t!="object")return t;if(t===null)return null;if(De(t))return t.map(N);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return Me(t);let e={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=N(t[i]));return e}var c=class extends b{constructor(e,i){super(),this.left=e,this.right=i,this.pipe="diff"}setResult(e){if(this.options.cloneDiffValues&&typeof e=="object"){let i=typeof this.options.cloneDiffValues=="function"?this.options.cloneDiffValues:N;typeof e[0]=="object"&&(e[0]=i(e[0])),typeof e[1]=="object"&&(e[1]=i(e[1]))}return b.prototype.setResult.apply(this,arguments)}},w=class extends b{constructor(e,i){super(),this.left=e,this.delta=i,this.pipe="patch"}},R=class extends b{constructor(e){super(),this.delta=e,this.pipe="reverse"}},$=typeof Array.isArray=="function"?Array.isArray:function(t){return t instanceof Array},Z=function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(typeof e.left>"u"){if(typeof e.right=="function")throw new Error("functions are not supported");e.setResult([e.right]).exit();return}if(typeof e.right>"u"){e.setResult([e.left,0,0]).exit();return}if(typeof e.left=="function"||typeof e.right=="function")throw new Error("functions are not supported");if(e.leftType=e.left===null?"null":typeof e.left,e.rightType=e.right===null?"null":typeof e.right,e.leftType!==e.rightType){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="boolean"||e.leftType==="number"){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="object"&&(e.leftIsArray=$(e.left)),e.rightType==="object"&&(e.rightIsArray=$(e.right)),e.leftIsArray!==e.rightIsArray){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())};Z.filterName="trivial";var x=function(e){if(typeof e.delta>"u"){e.setResult(e.left).exit();return}if(e.nested=!$(e.delta),!e.nested){if(e.delta.length===1){e.setResult(e.delta[0]).exit();return}if(e.delta.length===2){if(e.left instanceof RegExp){let i=/^\/(.*)\/([gimyu]+)$/.exec(e.delta[1]);if(i){e.setResult(new RegExp(i[1],i[2])).exit();return}}e.setResult(e.delta[1]).exit();return}e.delta.length===3&&e.delta[2]===0&&e.setResult(void 0).exit()}};x.filterName="trivial";var ee=function(e){if(typeof e.delta>"u"){e.setResult(e.delta).exit();return}if(e.nested=!$(e.delta),!e.nested){if(e.delta.length===1){e.setResult([e.delta[0],0,0]).exit();return}if(e.delta.length===2){e.setResult([e.delta[1],e.delta[0]]).exit();return}e.delta.length===3&&e.delta[2]===0&&e.setResult([e.delta[0]]).exit()}};ee.filterName="trivial";function te(t){if(!t||!t.children)return;let e=t.children.length,i,r=t.result;for(let n=0;n<e;n++)i=t.children[n],!(typeof i.result>"u")&&(r=r||{},r[i.childName]=i.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()}te.filterName="collectChildren";function ie(t){if(t.leftIsArray||t.leftType!=="object")return;let e,i,r=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(r&&!r(e,t)||(i=new c(t.left[e],t.right[e]),t.push(i,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(r&&!r(e,t)||typeof t.left[e]>"u"&&(i=new c(void 0,t.right[e]),t.push(i,e)));if(!t.children||t.children.length===0){t.setResult(void 0).exit();return}t.exit()}ie.filterName="objects";var re=function(e){if(!e.nested||e.delta._t)return;let i,r;for(i in e.delta)r=new w(e.left[i],e.delta[i]),e.push(r,i);e.exit()};re.filterName="objects";var ne=function(e){if(!e||!e.children||e.delta._t)return;let i=e.children.length,r;for(let n=0;n<i;n++)r=e.children[n],Object.prototype.hasOwnProperty.call(e.left,r.childName)&&r.result===void 0?delete e.left[r.childName]:e.left[r.childName]!==r.result&&(e.left[r.childName]=r.result);e.setResult(e.left).exit()};ne.filterName="collectChildren";var le=function(e){if(!e.nested||e.delta._t)return;let i,r;for(i in e.delta)r=new R(e.delta[i]),e.push(r,i);e.exit()};le.filterName="objects";function se(t){if(!t||!t.children||t.delta._t)return;let e=t.children.length,i,r={};for(let n=0;n<e;n++)i=t.children[n],r[i.childName]!==i.result&&(r[i.childName]=i.result);t.setResult(r).exit()}se.filterName="collectChildren";var Be=function(t,e,i,r){return t[i]===e[r]},He=function(t,e,i,r){let n=t.length,l=e.length,s,f,u=[n+1];for(s=0;s<n+1;s++)for(u[s]=[l+1],f=0;f<l+1;f++)u[s][f]=0;for(u.match=i,s=1;s<n+1;s++)for(f=1;f<l+1;f++)i(t,e,s-1,f-1,r)?u[s][f]=u[s-1][f-1]+1:u[s][f]=Math.max(u[s-1][f],u[s][f-1]);return u},I=function(t,e,i,r,n,l){if(r===0||n===0)return{sequence:[],indices1:[],indices2:[]};if(t.match(e,i,r-1,n-1,l)){let s=I(t,e,i,r-1,n-1,l);return s.sequence.push(e[r-1]),s.indices1.push(r-1),s.indices2.push(n-1),s}return t[r][n-1]>t[r-1][n]?I(t,e,i,r,n-1,l):I(t,e,i,r-1,n,l)},ke=function(t,e,i,r){let n=r||{},l=He(t,e,i||Be,n),s=I(l,t,e,t.length,e.length,n);return typeof t=="string"&&typeof e=="string"&&(s.sequence=s.sequence.join("")),s},qe={get:ke},_=3,X=typeof Array.isArray=="function"?Array.isArray:t=>t instanceof Array,Y=typeof Array.prototype.indexOf=="function"?(t,e)=>t.indexOf(e):(t,e)=>{let i=t.length;for(let r=0;r<i;r++)if(t[r]===e)return r;return-1};function Se(t,e,i,r){for(let n=0;n<i;n++){let l=t[n];for(let s=0;s<r;s++){let f=e[s];if(n!==s&&l===f)return!0}}}function j(t,e,i,r,n){let l=t[i],s=e[r];if(l===s)return!0;if(typeof l!="object"||typeof s!="object")return!1;let f=n.objectHash;if(!f)return n.matchByPosition&&i===r;let u,a;return typeof i=="number"?(n.hashCache1=n.hashCache1||[],u=n.hashCache1[i],typeof u>"u"&&(n.hashCache1[i]=u=f(l,i))):u=f(l),typeof u>"u"||(typeof r=="number"?(n.hashCache2=n.hashCache2||[],a=n.hashCache2[r],typeof a>"u"&&(n.hashCache2[r]=a=f(s,r))):a=f(s),typeof a>"u")?!1:u===a}var fe=function(e){if(!e.leftIsArray)return;let i={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},r=0,n=0,l,s,f,u=e.left,a=e.right,h=u.length,o=a.length,p;for(h>0&&o>0&&!i.objectHash&&typeof i.matchByPosition!="boolean"&&(i.matchByPosition=!Se(u,a,h,o));r<h&&r<o&&j(u,a,r,r,i);)l=r,p=new c(e.left[l],e.right[l]),e.push(p,l),r++;for(;n+r<h&&n+r<o&&j(u,a,h-1-n,o-1-n,i);)s=h-1-n,f=o-1-n,p=new c(e.left[s],e.right[f]),e.push(p,f),n++;let d;if(r+n===h){if(h===o){e.setResult(void 0).exit();return}for(d=d||{_t:"a"},l=r;l<o-n;l++)d[l]=[a[l]];e.setResult(d).exit();return}if(r+n===o){for(d=d||{_t:"a"},l=r;l<h-n;l++)d[`_${l}`]=[u[l],0,0];e.setResult(d).exit();return}delete i.hashCache1,delete i.hashCache2;let V=u.slice(r,h-n),L=a.slice(r,o-n),v=qe.get(V,L,j,i),F=[];for(d=d||{_t:"a"},l=r;l<h-n;l++)Y(v.indices1,l-r)<0&&(d[`_${l}`]=[u[l],0,0],F.push(l));let G=!0;e.options&&e.options.arrays&&e.options.arrays.detectMove===!1&&(G=!1);let K=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(K=!0);let J=F.length;for(l=r;l<o-n;l++){let P=Y(v.indices2,l-r);if(P<0){let U=!1;if(G&&J>0){for(let A=0;A<J;A++)if(s=F[A],j(V,L,s-r,l-r,i)){d[`_${s}`].splice(1,2,l,_),K||(d[`_${s}`][0]=""),f=l,p=new c(e.left[s],e.right[f]),e.push(p,f),F.splice(A,1),U=!0;break}}U||(d[l]=[a[l]])}else s=v.indices1[P]+r,f=v.indices2[P]+r,p=new c(e.left[s],e.right[f]),e.push(p,f)}e.setResult(d).exit()};fe.filterName="arrays";var Q={numerically(t,e){return t-e},numericallyBy(t){return(e,i)=>e[t]-i[t]}},ue=function(e){if(!e.nested||e.delta._t!=="a")return;let i,r,n=e.delta,l=e.left,s=[],f=[],u=[];for(i in n)if(i!=="_t")if(i[0]==="_")if(n[i][2]===0||n[i][2]===_)s.push(parseInt(i.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${n[i][2]}`);else n[i].length===1?f.push({index:parseInt(i,10),value:n[i][0]}):u.push({index:parseInt(i,10),delta:n[i]});for(s=s.sort(Q.numerically),i=s.length-1;i>=0;i--){r=s[i];let p=n[`_${r}`],d=l.splice(r,1)[0];p[2]===_&&f.push({index:p[1],value:d})}f=f.sort(Q.numericallyBy("index"));let a=f.length;for(i=0;i<a;i++){let p=f[i];l.splice(p.index,0,p.value)}let h=u.length,o;if(h>0)for(i=0;i<h;i++){let p=u[i];o=new w(e.left[p.index],p.delta),e.push(o,p.index)}if(!e.children){e.setResult(e.left).exit();return}e.exit()};ue.filterName="arrays";var ae=function(e){if(!e||!e.children||e.delta._t!=="a")return;let i=e.children.length,r;for(let n=0;n<i;n++)r=e.children[n],e.left[r.childName]=r.result;e.setResult(e.left).exit()};ae.filterName="arraysCollectChildren";var he=function(e){if(!e.nested){e.delta[2]===_&&(e.newName=`_${e.delta[1]}`,e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),_]).exit());return}if(e.delta._t!=="a")return;let i,r;for(i in e.delta)i!=="_t"&&(r=new R(e.delta[i]),e.push(r,i));e.exit()};he.filterName="arrays";var Ve=(t,e,i)=>{if(typeof e=="string"&&e[0]==="_")return parseInt(e.substr(1),10);if(X(i)&&i[2]===0)return`_${e}`;let r=+e;for(let n in t){let l=t[n];if(X(l))if(l[2]===_){let s=parseInt(n.substr(1),10),f=l[1];if(f===+e)return s;s<=r&&f>r?r++:s>=r&&f<r&&r--}else l[2]===0?parseInt(n.substr(1),10)<=r&&r++:l.length===1&&n<=r&&r--}return r};function oe(t){if(!t||!t.children||t.delta._t!=="a")return;let e=t.children.length,i,r={_t:"a"};for(let n=0;n<e;n++){i=t.children[n];let l=i.newName;typeof l>"u"&&(l=Ve(t.delta,i.childName,i.result)),r[l]!==i.result&&(r[l]=i.result)}t.setResult(r).exit()}oe.filterName="arraysCollectChildren";var pe=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};pe.filterName="dates";var O=2,Le=60,D=null,de=function(t={},e){if(!D){let i,{textDiff:{diffMatchPatch:r}={}}=t;try{i=r&&new r}catch{i=null}if(!i){if(!e)return null;let n=new Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}D={diff:function(n,l){return i.patch_toText(i.patch_make(n,l))},patch:function(n,l){let s=i.patch_apply(i.patch_fromText(l),n);for(let f=0;f<s[1].length;f++)if(!s[1][f]){let u=new Error("text patch failed");u.textPatchFailed=!0}return s[0]}}}return D},ce=function(e){if(e.leftType!=="string")return;let i=e.options&&e.options.textDiff&&e.options.textDiff.minLength||Le;if(e.left.length<i||e.right.length<i){e.setResult([e.left,e.right]).exit();return}let r=de(e.options);if(!r){e.setResult([e.left,e.right]).exit();return}let n=r.diff;e.setResult([n(e.left,e.right),0,O]).exit()};ce.filterName="texts";var ye=function(e){if(e.nested||e.delta[2]!==O)return;let i=de(e.options,!0).patch;e.setResult(i(e.left,e.delta[0])).exit()};ye.filterName="texts";var Ge=function(t){let e,i,r,n,l,s=null,f=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,u;for(r=t.split(`
`),e=0,i=r.length;e<i;e++){n=r[e];let a=n.slice(0,1);a==="@"?(s=f.exec(n),u=e,r[u]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):a==="+"?(r[e]="-"+r[e].slice(1),r[e-1].slice(0,1)==="+"&&(l=r[e],r[e]=r[e-1],r[e-1]=l)):a==="-"&&(r[e]="+"+r[e].slice(1))}return r.join(`
`)},ge=function(e){e.nested||e.delta[2]===O&&e.setResult([Ge(e.delta[0]),0,O]).exit()};ge.filterName="texts";var H=class{constructor(e){this.processor=new B(e),this.processor.pipe(new m("diff").append(te,Z,pe,ce,ie,fe).shouldHaveResult()),this.processor.pipe(new m("patch").append(ne,ae,x,ye,re,ue).shouldHaveResult()),this.processor.pipe(new m("reverse").append(se,oe,ee,ge,le,he).shouldHaveResult())}options(...e){return this.processor.options(...e)}diff(e,i){return this.processor.process(new c(e,i))}patch(e,i){return this.processor.process(new w(e,i))}reverse(e){return this.processor.process(new R(e))}unpatch(e,i){return this.patch(e,this.reverse(i))}clone(e){return N(e)}};function T(t,e){return t.$instanceOf(e)}function me(t,e){return e.some(function(i){return T(t,i)})}function k(t){return me(t,["bpmndi:BPMNEdge","bpmndi:BPMNShape"])}function Ke(t){var e=t.$parent,i=e.rootElements.find(function(n){return T(n,"bpmn:Collaboration")});if(!i)return{element:t,property:""};var r=i.participants.find(function(n){return n.processRef===t});return r&&{element:r,property:"processRef."}}function y(){this._layoutChanged={},this._changed={},this._removed={},this._added={}}y.prototype._isTracked=function(t){if(T(t,"bpmn:DataObject"))return!1;if(T(t,"bpmn:Process"))return Ke(t);var e=me(t,["bpmn:Participant","bpmn:Collaboration","bpmn:FlowElement","bpmn:SequenceFlow","bpmn:MessageFlow","bpmn:Participant","bpmn:Lane","bpmn:DataAssociation"]);if(e)return{element:t,property:""}};y.prototype._computeChangeId=function(t){return t.id};y.prototype.removed=function(t,e,i,r){var n;(n=this._isTracked(i))?this._removed[this._computeChangeId(n.element)]||(this._removed[this._computeChangeId(n.element)]=i):(n=this._isTracked(t))?this.changed(n.element,n.property+e+"["+r+"]",null,i):k(t)&&e==="waypoint"&&(this._layoutChanged[this._computeChangeId(t.bpmnElement)]=t.bpmnElement)};y.prototype.changed=function(t,e,i,r){var n;if(k(t))this._layoutChanged[this._computeChangeId(t.bpmnElement)]=t.bpmnElement;else if(n=this._isTracked(t)){var l=this._changed[this._computeChangeId(n.element)];l||(l=this._changed[this._computeChangeId(n.element)]={model:t,attrs:{}}),(r!==void 0||i!==void 0)&&(l.attrs[e]={oldValue:r,newValue:i})}};y.prototype.added=function(t,e,i,r){var n;(n=this._isTracked(i))?this._added[this._computeChangeId(n.element)]||(this._added[this._computeChangeId(n.element)]=i):(n=this._isTracked(t))?this.changed(n.element,n.property+e+"["+r+"]",i,null):k(t)&&e==="waypoint"&&(this._layoutChanged[this._computeChangeId(t.bpmnElement)]=t.bpmnElement)};y.prototype.moved=function(t,e,i,r){};function be(t){t.left&&t.left.$instanceOf&&(t.leftType="moddle"),t.right&&t.right.$instanceOf&&(t.rightType="moddle")}be.filterName="moddle";function _e(t){if(t.leftIsArray||t.leftType!=="moddle")return;let e=W(t.left),i,r,n=t.options.propertyFilter;t.left.$type!==t.right.$type&&(r=new c(t.left.$type,t.right.$type),t.push(r,"$type"));for(i of e){let{name:s,isVirtual:f,isMany:u,isReference:a}=i;f||u&&a||n&&!n(s,t)||(r=new c(M(t.left,s),M(t.right,s)),t.push(r,s))}let l=W(t.right);for(i of l){let{name:s,isVirtual:f,isMany:u,isReference:a}=i;f||u&&a||n&&!n(s,t)||typeof t.left[s]>"u"&&(r=new c(void 0,M(t.right,s)),t.push(r,s))}if(!t.children||t.children.length===0){t.setResult(void 0).exit();return}t.exit()}_e.filterName="moddleDiff";function M(t,e){let{isGeneric:i,idProperty:r,propertiesByName:n}=t.$descriptor,l=t[e];if(i)return l;let s=n[e];return s&&!s.isMany&&s.isReference?l&&r&&`#ref:${l.get(r.name)}`:l}function Je(t){return Object.keys(t).flatMap(e=>e!=="$type"?{name:e}:[])}function W(t){let{properties:e,isGeneric:i}=t.$descriptor;return i?Je(t):e}function q(){}q.prototype.createDiff=function(t,e){var i=new H({objectHash:function(r){return r.id||JSON.stringify(r)},propertyFilter:function(r,n){return r!=="$instanceOf"}});return i.processor.pipe("diff").after("trivial",be),i.processor.pipe("diff").after("objects",_e),i.diff(t,e)};q.prototype.diff=function(t,e,i){i=i||new y;function r(l,s){C(l,function(f,u){f._t!=="a"&&g(f)&&g(f[0])&&(f=z(f[0],function(a,h,o){var p=f.length===3?"_":"";return a[p+o]=[h],a},{_t:"a"})),f._t==="a"?C(f,function(a,h){if(h!=="_t"){var o=/^_/.test(h),p=!o&&g(a),d=o&&a[0]==="";h=parseInt(o?h.slice(1):h,10),p||o&&!d?i[o?"removed":"added"](s,u,a[0],h):d?i.moved(s,u,a[1],a[2]):r(a,s[u][h])}}):g(f)?i.changed(s,u,f[0],f[1]):(i.changed(s,u),r(f,s[u]))})}var n=this.createDiff(t,e);return r(n,e),i};function S(t,e,i){return new q().diff(t,e,i)}var we={diff:S};typeof self<"u"&&(self.bpmnDiff=S,self.BpmnJsDiffer=we);var Ue=we;return je(ze);})();
